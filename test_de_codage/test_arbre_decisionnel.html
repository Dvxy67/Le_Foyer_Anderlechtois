<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Arbre décisionnel animé</title>
</head>
<body>

  <div id="app">
    <div id="question"></div>
    <div id="choices"></div>
  </div>

  <script>
    const tree = {
      start: {
        text: "Avez vous 18 ans ?",
        choices: [
          { label: "Oui", next: "question2" },
          { label: "Non", next: "sortie" }
        ]
      },
      question2: {
        text: "êtes vous propriétaire ?",
        choices: [
          { label: "Oui", next: "sortie" },
          { label: "Non", next: "question3" }
        ]
      },
      question3: {
        text: "(question par rapport a l'argent)?",
        choices: [
          { label: "- de 1000€", next: "question4" },
          { label: "entre 1000 et 1500€", next: "question4" }
        ]
      },
      farniente: { text: "yass vous pouvez regarder ", choices: [] },
      rando: { text: "euuuuuuu", choices: [] },
      pyjama: { text: "iiiiii", choices: [] },
      transport: { text: "Courage ", choices: [] }
    };

    let currentNode = 'start';

    function renderNode(nodeKey) {
      const app = document.getElementById("app");

      // Ajoute la classe fade-out
      app.classList.add("fade-out");

      // Attend la fin de la transition avant de changer de contenu
      setTimeout(() => {
        const node = tree[nodeKey];
        const questionEl = document.getElementById("question");
        const choicesEl = document.getElementById("choices");

        questionEl.textContent = node.text;
        choicesEl.innerHTML = '';

        node.choices.forEach(choice => {
          const btn = document.createElement("button");
          btn.textContent = choice.label;
          btn.className = "choice-btn";
          btn.onclick = () => renderNode(choice.next);
          choicesEl.appendChild(btn);
        });

        // Replace fade-in après un court moment
        app.classList.remove("fade-out");
        app.classList.add("fade-in");
      }, 300);
    }

    renderNode(currentNode);
  </script>

</body>
</html>

</body>
</html>